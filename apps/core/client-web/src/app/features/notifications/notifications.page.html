<div class="view-container">
    <div class="view-header">
        <div class="header-content">
            <h1>Notificaciones</h1>
            <p>Mantente al día con las últimas actualizaciones y alertas de tu cuenta.</p>
        </div>
        <div class="header-actions">
            <button class="secondary-button" (click)="markAllAsRead()">
                <lucide-icon [img]="MarkAllReadIcon" size="16"></lucide-icon>
                <span>Marcar todas como leídas</span>
            </button>
        </div>
    </div>

    <div class="notifications-list card">
        @if (notificationGroups().length > 0) {
        @for (group of notificationGroups(); track group.period) {
        <div class="notification-group">
            <h3 class="group-title">{{ group.period }}</h3>
            <ul>
                @for (notification of group.notifications; track notification.id) {
                <li class="notification-item" [class.unread]="!notification.read" (click)="markAsRead(notification.id)">
                    <div class="notification-content">
                        <h4 class="notification-title">{{ notification.title }}</h4>
                        <p class="notification-description">{{ notification.body }}</p>
                    </div>
                    <div class="notification-meta">
                        <span class="timestamp">{{ notification.createdAt | date:'shortTime' }}</span>
                        @if (!notification.read) {
                        <span class="unread-indicator" title="No leído"></span>
                        }
                    </div>
                </li>
                }
            </ul>
        </div>
        }
        } @else {
        <div class="empty-state">
            <lucide-icon [img]="NoNotificationsIcon" size="48"></lucide-icon>
            <span>Todo está al día</span>
            <p>No tienes notificaciones nuevas en este momento.</p>
        </div>
        }
    </div>
</div>