<div class="login-wrapper">
  <!-- Top Language Selector -->
  <!-- We can reuse the same component or just static here if the user didn't ask for it in every page, but consistency is key. I'll omit it for brevity unless necessary, but the styles are consistent. Let's add it for consistency if desired, or just keep it clean. The login page has it. Let's keep it clean here but use the same layout structure. -->

  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <h1 class="auth-title">Recuperar Contraseña</h1>
        <p class="auth-subtitle">Ingresa tu correo electrónico para restablecer tu contraseña</p>
      </div>

      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="auth-form" novalidate>
        <div class="form-field">
          <label for="email" class="input-label">Correo Electrónico</label>
          <div class="input-wrapper">
            <lucide-icon [img]="MailIcon" size="18" class="input-icon" aria-hidden="true"></lucide-icon>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="name@company.com"
              [class.error]="email?.invalid && (email?.touched || email?.dirty)"
            />
          </div>
          @if (email?.invalid && (email?.touched || email?.dirty)) {
          <div class="error-message">
             <lucide-icon [img]="AlertCircleIcon" size="14"></lucide-icon>
            @if (email?.errors?.['required']) { <span>El correo es obligatorio</span> }
            @if (email?.errors?.['email']) { <span>Ingresa un correo válido</span> }
          </div>
          }
        </div>

        @if (errorMessage) {
        <div class="error-message global-error" role="alert">
          <lucide-icon [img]="AlertCircleIcon" size="16" aria-hidden="true"></lucide-icon>
          <span>{{ errorMessage }}</span>
        </div>
        }

        @if (successMessage) {
        <div class="success-message global-success" role="alert">
          <lucide-icon [img]="CheckCircleIcon" size="16" aria-hidden="true"></lucide-icon>
          <span>{{ successMessage }}</span>
        </div>
        }

        <button type="submit" class="submit-button" [disabled]="isLoading || forgotPasswordForm.invalid" [class.loading]="isLoading">
          @if (isLoading) {
            <span class="spinner" aria-hidden="true"></span>
            <span>Enviando...</span>
          } @else {
            <span>Enviar Instrucciones</span>
          }
        </button>

        <div class="auth-footer">
           <p class="register-text">
            <a routerLink="/auth/login" class="register-link">
              <lucide-icon name="arrow-left" size="14" style="margin-right: 4px; display: inline-block; vertical-align: middle;"></lucide-icon>
              Volver a Iniciar Sesión
            </a>
           </p>
        </div>
      </form>
    </div>
  </div>

   <footer class="main-footer">
    <div class="footer-content">
      <div class="footer-top">
        <div class="support-section">
          <p class="support-text">
            Questions? Call
            <a href="tel:+18492001043" class="support-link">+1 (849) 200-1043</a>
          </p>
        </div>
      </div>

      <nav class="footer-links">
        <a routerLink="/privacy">Privacidad</a>
        <a routerLink="/terms">Términos</a>
        <a routerLink="/cookies">Cookies</a>
      </nav>

      <div class="footer-bottom">
        <p class="copyright">
          &copy; 2023 Virteex. All rights reserved.
        </p>
      </div>
    </div>
  </footer>
</div>
