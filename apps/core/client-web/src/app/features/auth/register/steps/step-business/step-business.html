<div class="step-container" [formGroup]="parentForm">
    <div class="step-header">
        <h3>Identidad de tu Negocio</h3>
        <p>Cuéntanos sobre la empresa que estás registrando.</p>
    </div>

    <!-- Company Name -->
    <div class="form-field"
        [class.error]="parentForm.get('companyName')?.invalid && (parentForm.get('companyName')?.touched || parentForm.get('companyName')?.dirty)">
        <label for="companyName">Nombre Comercial / Razón Social*</label>
        <div class="input-wrapper"><lucide-icon [img]="CompanyIcon" size="18" class="input-icon"></lucide-icon><input
                id="companyName" formControlName="companyName" placeholder="Ej: Mi Empresa S.R.L."></div>
        @if (parentForm.get('companyName')?.invalid && (parentForm.get('companyName')?.touched ||
        parentForm.get('companyName')?.dirty)) {
        <div class="error-message">
            @if (parentForm.get('companyName')?.errors?.['required']) { <span>Nombre de empresa es obligatorio</span> }
            @if (parentForm.get('companyName')?.errors?.['serverError']) { <span>{{
                parentForm.get('companyName')?.errors?.['serverError'] }}</span> }
        </div>
        }
    </div>

    <!-- Industry Select -->
    <div class="form-field"
        [class.error]="parentForm.get('industry')?.invalid && (parentForm.get('industry')?.touched || parentForm.get('industry')?.dirty)">
        <label for="industry">Industria / Sector*</label>
        <div class="input-wrapper">
            <lucide-icon [img]="IndustryIcon" size="18" class="input-icon"></lucide-icon>
            <select id="industry" formControlName="industry" class="styled-select">
                <option value="" disabled selected>Selecciona una industria</option>
                @for (ind of industries; track ind.id) {
                    <option [value]="ind.id">{{ ind.label }}</option>
                }
            </select>
        </div>
        @if (parentForm.get('industry')?.invalid && (parentForm.get('industry')?.touched ||
        parentForm.get('industry')?.dirty)) {
        <div class="error-message">
            @if (parentForm.get('industry')?.errors?.['required']) { <span>Industria es obligatoria</span> }
        </div>
        }
    </div>

    <!-- Employees Select -->
    <div class="form-field"
        [class.error]="parentForm.get('numberOfEmployees')?.invalid && (parentForm.get('numberOfEmployees')?.touched || parentForm.get('numberOfEmployees')?.dirty)">
        <label for="numberOfEmployees">Tamaño de la empresa*</label>
        <div class="input-wrapper">
            <lucide-icon [img]="EmployeesIcon" size="18" class="input-icon"></lucide-icon>
            <select id="numberOfEmployees" formControlName="numberOfEmployees" class="styled-select">
                <option value="" disabled selected>Selecciona un rango</option>
                @for (size of companySizes; track size.id) {
                    <option [value]="size.id">{{ size.label }}</option>
                }
            </select>
        </div>
        @if (parentForm.get('numberOfEmployees')?.invalid && (parentForm.get('numberOfEmployees')?.touched ||
        parentForm.get('numberOfEmployees')?.dirty)) {
        <div class="error-message">
            @if (parentForm.get('numberOfEmployees')?.errors?.['required']) { <span>Este campo es obligatorio</span> }
        </div>
        }
    </div>

    <!-- Website (Optional) -->
    <div class="form-field">
        <label for="website">Sitio Web (Opcional)</label>
        <div class="input-wrapper"><lucide-icon [img]="WebsiteIcon" size="18"
                class="input-icon"></lucide-icon><input id="website" formControlName="website"
                placeholder="https://tuempresa.com"></div>
    </div>
</div>
